!function(){var e=angular.module("nzToggle",[]);e.directive("nzToggle",["$timeout",function(e){return{restrict:"E",require:"ngModel",replace:!0,scope:{config:"=?",ngModel:"=",onToggle:"&",ngDisabled:"="},template:['<div class="nz-toggle-wrap" ng-class="getStyle()" ng-style="wrapStyle">','   <div class="nz-toggle">','       <div class="nz-toggle-handle"></div>',"   </div>",'   <div class="nz-toggle-tooltip" ng-show="tooltip">',"       <span ng-class=\"{'active': showTooltip1}\">",'           <span ng-show="tipFalse"></span>{{tipFalse}}',"       </span>",'       <br ng-show="vertical">','       <span ng-class="{\'active\': showTooltip2}" ng-show="triToggle">','           <span ng-show="tipNull"></span>{{tipNull}}',"       </span>",'       <br ng-show="vertical">',"       <span ng-class=\"{'active': showTooltip3}\">",'           <span ng-show="tipTrue"></span>{{tipTrue}}',"       </span>","   </div>","</div>"].join(""),link:function(o,t,l,a){function n(){g(),N(b.ngModel)||(N(b.valDefault)?b.ngModel=b.valDefault:b.triToggle?b.ngModel=b.valNull:b.ngModel=b.valFalse);var e=!0;b.$watch("ngModel",function(){if(d(),e)return void(e=!1);if(b.onToggle.call){var o=b.onToggle();o&&o.call&&o(b.ngModel)}},!0),p(t[0],"mousedown touchstart",r),p(t[0],"click",i),b.$on("$destroy",function(){h(t[0],"mousedown touchstart",r),h(window,"mousemove touchmove",s),h(window,"mouseup touchend",u),h(t[0],"click",i)})}function i(e){1>m&&v()}function r(e){return b.ngDisabled?void 0:(e=e?e:window.event,f={x:e.pageX||e.touches[0].pageX,y:e.pageY||e.touches[0].pageY},m=0,F.css("transition","0s"),p(window,"mousemove touchmove",s),p(window,"mouseup touchend",u),e.stopPropagation(),e.returnValue=!1,!1)}function s(e){e=e?e:window.event;var o=(e.pageY||e.touches[0].pageY)-f.y,l=(e.pageX||e.touches[0].pageX)-f.x,a=t[0].offsetHeight,n=t[0].offsetWidth,i=o/(a/2)*100,r=l/(n/2)*100;return b.vertical?(w=parseFloat(y.vertical[b.state]),T=Math.max(Math.min(parseFloat(i+w),100),0),M=w+(T-w)/2,F.css("top",M+"%")):(w=parseFloat(y.horizontal[b.state]),T=Math.max(Math.min(parseFloat(r+w),100),0),M=w+(T-w)/2,F.css("left",M+"%")),m=Math.max(m,Math.max(Math.abs(o),Math.abs(l))),e.stopPropagation(),e.returnValue=!1,!1}function u(e){return e=e?e:window.event,f=!1,b.$apply(function(){return 1>m&&"mouseup"==e.type?void 0:1>m&&"touchend"==e.type?void v():b.triToggle?b.vertical?T>73?void v("false"):T>27?void v("null"):void v("true"):27>T?void v("false"):73>T?void v("null"):void v("true"):b.vertical?T>50?void v("false"):void v("true"):50>T?void v("false"):void v("true")}),F.css({top:"",left:"",transition:""}),h(window,"mousemove touchmove",s),h(window,"mouseup touchend",u),e.stopPropagation(),e.returnValue=!1,!1}function g(){if(angular.extend(b,D,b.config||{}),N(l.triToggle)&&(b.triToggle=!0),angular.forEach(["valDefault","valTrue","valFalse","valNull","width","height","colorFalse","colorNull","colorTrue"],function(e){N(l[e])&&(b[e]=b.$eval(l[e]))}),angular.forEach(["tipTrue","tipFalse","tipNull"],function(e){N(l[e])&&b.$watch(l[e],function(o){b[e]=o})}),(b.tipTrue||l.tipFalse||l.tipNull)&&(b.tooltip=!0),N(l.vertical)){b.vertical=!0;var e;b.tooltip&&(e=b.tipTrue,b.tipTrue=b.tipFalse,b.tipFalse=e),b.$eval(l.width)||b.$eval(l.width)||b.config&&(b.config.width||b.config.height)||(e=b.width,b.width=b.height,b.height=e)}b.wrapStyle={width:b.width+"px",height:b.height+"px"},N(b.outerRadius)||(b.outerRadius=Math.min(b.width,b.height)/2),b.innerRadius=b.outerRadius-b.padding}function c(){return[b.vertical?"vertical":"horizontal",b.state]}function d(){return b.showTooltip1=!1,b.showTooltip2=!1,b.showTooltip3=!1,angular.equals(b.ngModel,b.valTrue)?(b.wrapStyle.backgroundColor=b.colorTrue,b.state="true",void(b.vertical?b.showTooltip1=!0:b.showTooltip3=!0)):angular.equals(b.ngModel,b.valFalse)?(b.state="false",b.wrapStyle.backgroundColor=b.colorFalse,void(b.vertical?b.showTooltip3=!0:b.showTooltip1=!0)):(b.state="null",b.wrapStyle.backgroundColor=b.colorNull,void(b.showTooltip2=!0))}function v(o){b.ngDisabled||e(function(){if(o){if(b.state=o,"false"===o)return void(b.ngModel=b.valFalse);if("null"===o)return void(b.ngModel=b.valNull);b.ngModel=b.valTrue}else{if("false"==b.state)return void(b.ngModel=b.triToggle?b.valNull:b.valTrue);if("null"==b.state)return void(b.ngModel=b.valTrue);b.ngModel=b.valFalse}})}function p(e,o,t){for(var l=o.split(" "),a=0,n=l.length;n>a;a++)e.addEventListener(l[a],t,!1)}function h(e,o,t){for(var l=o.split(" "),a=0,n=l.length;n>a;a++)e.removeEventListener(l[a],t,!1)}console.log("link");var f,w,T,m,M,F=angular.element(t[0].querySelector(".nz-toggle-handle")),y={horizontal:{"false":0,"null":50,"true":100},vertical:{"false":100,"null":50,"true":0}},N=angular.isDefined,D=(angular.copy,{vertical:!1,valTrue:!0,valFalse:!1,valNull:null,width:50,height:25,padding:3,colorTrue:"#60BD68",colorFalse:"#F15854",colorNull:"#DDD",tooltip:!1}),b=o;angular.extend(b,{getStyle:c,toggle:v}),n()}}}])}();